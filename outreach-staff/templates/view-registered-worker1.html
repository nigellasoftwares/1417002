{% include 'header.html' %}



<div class="row  sticky-top "  style="background-color: white;">
    <div class="back-button-div d-flex " style="padding-left: 10px;">
        <a href="/add-worker" class="back-button ">Home</a>&nbsp;&nbsp;
        <a href="/my-registration-list" class="back-button ">Registration List</a>&nbsp;&nbsp;
        <div class="ripple">
        <div class="ripple-container"></div>
        View Profile
        </div>
    </div>
    </div><br>

<div class="container">
    <!-- Worker Family Members -->
    <br><br>
    {% if(session['langMalay']) == 'malay' %}
    <h5>Ahli Keluarga Pekerja</h5>
    {% else %}
    <h5>Worker Family Members</h5>
    {% endif %}
    <hr>

    <div class="row">
        <div class="col-12">
            {% if workerFM|length > 0 %}
            {% for fm in workerFM %}
                <a href="/view-family-member1?fm={{fm[0]}}&fmN={{loop.index}}" class="btn btn-primary">Family Member {{loop.index}}</a>
            {% endfor %}
            {% else %}
            N/A
            {% endif %}
        </div>
   </div>
    <!--End Row-->
    
    <!-- End * Worker Family Members -->
    
    <br><br>
    <hr>
    <!-- Worker Details -->
    {% for worker in workerList %}
        {% if(session['langMalay']) == 'malay' %}
        <h5>Butiran Pekerja Berdaftar <a href="/user-print-new-qr?w_reg_num={{worker[4]}}&w_name={{worker[7]}}" style="float: right; margin-top: -185px; text-decoration: none; font-family: roboto;" class="border border-secondary rounded p-1 text-dark"><img src="static/img/qr-code.png" style="width: 30px; height: 30px;"> Cetak QR</a></h5>
        {% else %}
        <h5>Registered Worker Details <a href="/user-print-new-qr?w_reg_num={{worker[4]}}&w_name={{worker[7]}}" style="float: right; margin-top: -185px; text-decoration: none; font-family: roboto;" class="border border-secondary rounded p-1 text-dark"><img src="static/img/qr-code.png" style="width: 30px; height: 30px;"> Print QR</a></h5>
        {% endif %}
    <hr>

    <div class="card shadow p-5">
    <div class="row">
        <div class="col-6">
            <p><b>Registration No-</b> {{worker[4]}}</p>
        </div>
        <div class="col-6">
            <p><b>Name-</b> {{worker[7]}}</p>
        </div>
    </div>
    <!--End Row-->
    <div class="row">
        <div class="col-6">
            <p><b>No. of Family Members-</b> {{worker[5]}}</p>
        </div>
        <div class="col-6">
            <p><b>Status-</b> {{worker[6]}}</p>
        </div>
    </div>
    <div class="row">
        <div class="col-6">
            <p><b>Created By-</b> {{worker[2]}}</p>
        </div>
        <div class="col-6">
            <p><b>Created Date and Time-</b> {{worker[3]}} {{workerRegTime}}</p>
        </div>
    </div>
    <!--End Row-->
    <!--End Row-->
    <div class="row">
        <div class="col-6">
            <p><b>Gender-</b> {{worker[9]}}</p>
        </div>
        <div class="col-6">
            <p><b>Date of birth-</b> {{worker[10]}}</p>
        </div>
    </div>
    <!--End Row-->
    <div class="row">
        <div class="col-6">
            <p><b>Citizenship-</b> {{worker[12]}}</p>
        </div>
        <div class="col-6">
            <p><b>Marital status-</b> {{worker[13]}}</p>
        </div>
    </div>
    <!--End Row-->
    <div class="row">
        <div class="col-6">
            <p><b>Religion-</b> {{worker[15]}}</p>
        </div>
        <div class="col-6">
            <p><b>Contact No-</b> {{worker[17]}}</p>
        </div>
    </div>
    <!--End Row-->
    <div class="row">
        <div class="col-6">
            <p><b>Address 1-</b> {{worker[25]}}</p>
        </div>
        <div class="col-6">
            <p><b>Address 2-</b> {{worker[26]}}</p>
        </div>
    </div>
    <!--End Row-->
    <div class="row">
        <div class="col-6">
            <p><b>Address 3-</b> {{worker[27]}}</p>
        </div>
        <div class="col-6">
            <p><b>City-</b> {{worker[29]}}</p>
        </div>
    </div>
    <!--End Row-->
    <div class="row">
        <div class="col-6">
            <p><b>State-</b> {{worker[30]}}</p>
        </div>
    </div>
    <!--End Row-->
   </div>
    {%endfor%}
    <!-- End Worker Details -->
<script>
    function viewImg (openImageLink_in, imageOverlay_in, closeButton_in){
        const openImageLink = document.getElementById(openImageLink_in);
        const imageOverlay = document.getElementById(imageOverlay_in);
        const closeButton = document.getElementById(closeButton_in);

        openImageLink.addEventListener("click", function (e) {
            e.preventDefault();
            imageOverlay.style.display = "block";
        });

        closeButton.addEventListener("click", function () {
            imageOverlay.style.display = "none";
        });
    }
</script>
    <!-- Worker Douments Details -->
    <br><br>
    <hr>
    {% if(session['langMalay']) == 'malay' %}
    <h5>Butiran Dokumen Berdaftar</h5>
    {% else %}
    <h5>Registered Document Detail's</h5>
    {% endif %}
    <hr>
    {% if workerDocs|length > 0 %}
    {% for doc in workerDocs %}
    <br>
    <h5><span class="border-bottom">Document {{ loop.index }}</h5>
    <br>

    <div class="row">
        <div class="col-6">
            <img src="data:image/png;base64,{{doc[13]}}" onerror="this.onerror=null; this.src='./static/img/no-image.png'" id="openImageLink{{loop.index}}" style="width: 50px; height: 50px;">
        </div>

        <div class="image-overlay" id="imageOverlay{{loop.index}}">
            <span class="close-button" id="closeButton{{loop.index}}">&times;</span>
            <div class="image-container">
                <img src="data:image/png;base64,{{doc[13]}}" onerror="this.onerror=null; this.src='./static/img/no-image.png'" alt="Image">
            </div>
        </div>

        <script>
            viewImg("openImageLink{{loop.index}}", "imageOverlay{{loop.index}}", "closeButton{{loop.index}}");
        </script>
    </div>
    <!-- End Row -->
    <br>
    
    <div class="row">
        <div class="col-6">
            <p><b>Type of Document-</b> {{doc[3]}}</p>
        </div>
        <div class="col-6">
            <p><b>Document ID-</b> {{doc[4]}}</p>
        </div>
    </div>
    <!--End Row-->
    <div class="row">
        <div class="col-6">
            <p><b>Place of Issue-</b> {{doc[5]}}</p>
        </div>
        <div class="col-6">
            <p><b>Issue Date-</b> {{doc[6]}}</p>
        </div>
    </div>
    <!--End Row-->
    <div class="row">
        <div class="col-6">
            <p><b>Expiry Date-</b> {{doc[7]}}</p>
        </div>
        <div class="col-6">
            <p><b>Issuing Country-</b> {{doc[8]}}</p>
        </div>
    </div>
    <!--End Row-->
    <div class="row">
        <div class="col-6">
            <p><b>Document Status-</b> {{doc[9]}}</p>
        </div>
        <div class="col-6">
            <p><b>Document Current Status-</b> {{doc[10]}}</p>
        </div>
    </div>

    
    <!--End Row-->
    <!--End Row-->
    {% endfor %}
    {% else %}
    N/A
    {% endif %}
    <!-- End * Worker Douments Details -->

    <!-- Worker BioData -->
    <br><br>
    <hr>
    {% if(session['langMalay']) == 'malay' %}
    <h5>Biodata Pekerja</h5>
    {% else %}
    <h5>Worker Biodata</h5>
    {% endif %}
    <hr>

    {% if workerBiodata|length > 0 %}
        {% for data in workerBiodata %}
            <!-- Response Data -->
            <div class="row border bg-secondary rounded border-dark p-3 mt-5" id="getBioContainer">
                <div class="col-md-4">
                    <h6 class="text-center text-white"><span class="border rounded p-2">Photo</span></h6>
                    <span class="border rounded bg-white border-dark m-3" style="width: 100%; height: 450px; display: inline-block;">
                        <img src="data:image/png;base64,{{data[3]}}" style="width: 100%; height: 100%;" onerror="this.onerror=null; this.src='./static/img/no-image.png'">
                    </span>
                </div>
                <div class="col-md-8" style="margin-left: auto; margin-right: auto;">
                    <h6 class="text-center text-white"><span class="border rounded p-2">Fingerprints</span></h6>
                    <div class="row text-center">
                        <span class="border rounded bg-white border-dark m-3 p-2" style="width: 120px; height: 120px; display: inline-block;">
                            <img src="data:image/png;base64,{{data[5]}}" onerror="this.onerror=null; this.src='./static/img/no-image.png'" alt="Image" style="width: 100%; height: 100%;">
                        </span>
                        <span class="border rounded bg-white border-dark m-3 p-2" style="width: 120px; height: 120px; display: inline-block;">
                            <img src="data:image/png;base64,{{data[7]}}" onerror="this.onerror=null; this.src='./static/img/no-image.png'" alt="Image" style="width: 100%; height: 100%;">
                        </span>
                        <span class="border rounded bg-white border-dark m-3 p-2" style="width: 120px; height: 120px; display: inline-block;">
                            <img src="data:image/png;base64,{{data[9]}}" onerror="this.onerror=null; this.src='./static/img/no-image.png'" alt="Image" style="width: 100%; height: 100%;">
                        </span>
                        <span class="border rounded bg-white border-dark m-3 p-2" style="width: 120px; height: 120px; display: inline-block;">
                            <img src="data:image/png;base64,{{data[11]}}" onerror="this.onerror=null; this.src='./static/img/no-image.png'" alt="Image" style="width: 100%; height: 100%;">
                        </span>
                        <span class="border rounded bg-white border-dark m-3 p-2" style="width: 120px; height: 120px; display: inline-block;">
                            <img src="data:image/png;base64,{{data[13]}}" onerror="this.onerror=null; this.src='./static/img/no-image.png'" alt="Image" style="width: 100%; height: 100%;">
                        </span>
                        <span class="border rounded bg-white border-dark m-3 p-2" style="width: 120px; height: 120px; display: inline-block;">
                            <img src="data:image/png;base64,{{data[15]}}" onerror="this.onerror=null; this.src='./static/img/no-image.png'" alt="Image" style="width: 100%; height: 100%;">
                        </span>
                        <span class="border rounded bg-white border-dark m-3 p-2" style="width: 120px; height: 120px; display: inline-block;">
                            <img src="data:image/png;base64,{{data[17]}}" onerror="this.onerror=null; this.src='./static/img/no-image.png'" alt="Image" style="width: 100%; height: 100%;">
                        </span>
                        <span class="border rounded bg-white border-dark m-3 p-2" style="width: 120px; height: 120px; display: inline-block;">
                            <img src="data:image/png;base64,{{data[19]}}" onerror="this.onerror=null; this.src='./static/img/no-image.png'" alt="Image" style="width: 100%; height: 100%;">
                        </span>
                        <span class="border rounded bg-white border-dark m-3 p-2" style="width: 120px; height: 120px; display: inline-block;">
                            <img src="data:image/png;base64,{{data[21]}}" onerror="this.onerror=null; this.src='./static/img/no-image.png'" alt="Image" style="width: 100%; height: 100%;">
                        </span>
                        <span class="border rounded bg-white border-dark m-3 p-2" style="width: 120px; height: 120px; display: inline-block;">
                            <img src="data:image/png;base64,{{data[23]}}" onerror="this.onerror=null; this.src='./static/img/no-image.png'" alt="Image" style="width: 100%; height: 100%;">
                        </span>    
                    </div>
                </div>
            </div>
            <!-- End Response -->      
        {% endfor %}
    {% else %}
    N/A
    {% endif %}
    <!-- End * Worker BioData -->

     
</div>
<!-- End Container -->

{% include 'footer.html' %}


